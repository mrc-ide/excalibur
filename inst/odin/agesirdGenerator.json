{"version":"1.1.15","config":{"base":"agesirdGenerator","include":null,"custom":null},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"discrete":false,"has_array":true,"has_output":true,"has_user":true,"has_delay":false,"has_interpolate":true,"has_stochastic":false,"has_include":false,"initial_time_dependent":false},"data":{"elements":[{"name":"Alpha","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"Beta","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_Beta","dim":["dim_Beta_1","dim_Beta_2"],"mult":["","dim_Beta_1"]},"stage":"time"},{"name":"Betas","location":"internal","storage_type":"double","rank":3,"dimnames":{"length":"dim_Betas","dim":["dim_Betas_1","dim_Betas_2","dim_Betas_3"],"mult":["","dim_Betas_1","dim_Betas_12"]},"stage":"user"},{"name":"changeTimes","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_changeTimes","dim":[],"mult":[]},"stage":"user"},{"name":"D","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_D","dim":[],"mult":[]},"stage":"time"},{"name":"D0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_D0","dim":[],"mult":[]},"stage":"user"},{"name":"dim_Beta","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_Beta_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_Beta_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_Betas","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_Betas_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_Betas_12","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_Betas_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_Betas_3","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_changeTimes","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"dim_D","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_D0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_I","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_I0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_infectiousWeight","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_infectiousWeight_1","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_infectiousWeight_2","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_N","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_R0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"dim_S0","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"null"},{"name":"Gamma","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"I","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_I","dim":[],"mult":[]},"stage":"time"},{"name":"I0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_I0","dim":[],"mult":[]},"stage":"user"},{"name":"infectiousWeight","location":"internal","storage_type":"double","rank":2,"dimnames":{"length":"dim_infectiousWeight","dim":["dim_infectiousWeight_1","dim_infectiousWeight_2"],"mult":["","dim_infectiousWeight_1"]},"stage":"time"},{"name":"initial_D","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_D","dim":[],"mult":[]},"stage":"user"},{"name":"initial_I","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_I","dim":[],"mult":[]},"stage":"user"},{"name":"initial_R","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"user"},{"name":"initial_S","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"user"},{"name":"interpolate_Beta","location":"internal","storage_type":"interpolate_data","rank":2,"dimnames":{"length":"dim_Beta","dim":["dim_Beta_1","dim_Beta_2"],"mult":["","dim_Beta_1"]},"stage":"user"},{"name":"N","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_N","dim":[],"mult":[]},"stage":"time"},{"name":"offset_variable_D","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"offset_variable_R","location":"internal","storage_type":"int","rank":0,"dimnames":null,"stage":"user"},{"name":"R","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_R","dim":[],"mult":[]},"stage":"time"},{"name":"R0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_R0","dim":[],"mult":[]},"stage":"user"},{"name":"S","location":"variable","storage_type":"double","rank":1,"dimnames":{"length":"dim_S","dim":[],"mult":[]},"stage":"time"},{"name":"S0","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_S0","dim":[],"mult":[]},"stage":"user"}],"variable":{"length":["+",["+",["+","dim_D","dim_I"],"dim_R"],"dim_S"],"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"I","offset":"dim_S","initial":"initial_I"},{"name":"R","offset":"offset_variable_R","initial":"initial_R"},{"name":"D","offset":"offset_variable_D","initial":"initial_D"}]},"output":{"length":"dim_Beta","contents":[{"name":"Beta","offset":0}]}},"equations":[{"name":"alloc_Beta","type":"alloc","source":[40],"depends":{"functions":[],"variables":["dim_Beta"]},"lhs":"Beta"},{"name":"alloc_infectiousWeight","type":"alloc","source":[39],"depends":{"functions":[],"variables":["dim_infectiousWeight"]},"lhs":"infectiousWeight"},{"name":"alloc_initial_D","type":"alloc","source":[37],"depends":{"functions":[],"variables":["dim_D"]},"lhs":"initial_D"},{"name":"alloc_initial_I","type":"alloc","source":[35],"depends":{"functions":[],"variables":["dim_I"]},"lhs":"initial_I"},{"name":"alloc_initial_R","type":"alloc","source":[36],"depends":{"functions":[],"variables":["dim_R"]},"lhs":"initial_R"},{"name":"alloc_initial_S","type":"alloc","source":[34],"depends":{"functions":[],"variables":["dim_S"]},"lhs":"initial_S"},{"name":"alloc_N","type":"alloc","source":[38],"depends":{"functions":[],"variables":["dim_N"]},"lhs":"N"},{"name":"Alpha","type":"user","source":[26],"depends":null,"lhs":"Alpha","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"Beta","type":"interpolate","source":[11],"depends":{"functions":[],"variables":["t","interpolate_Beta"]},"lhs":"Beta","interpolate":"interpolate_Beta"},{"name":"Betas","type":"user","source":[24],"depends":null,"lhs":"Betas","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"changeTimes","type":"user","source":[23],"depends":null,"lhs":"changeTimes","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"D0","type":"user","source":[22],"depends":{"functions":["length"],"variables":["dim_D0"]},"lhs":"D0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"deriv_D","type":"expression_array","source":[6],"depends":{"functions":["length","*","["],"variables":["dim_D","I","i","Alpha"]},"lhs":"D","rhs":[{"index":[{"value":[":",1,["length","D"]],"is_range":true,"index":"i"}],"value":["*",["[","I","i"],"Alpha"]}]},{"name":"deriv_I","type":"expression_array","source":[4],"depends":{"functions":["length","-","*","[","odin_sum","dim"],"variables":["dim_I","S","i","infectiousWeight","dim_infectiousWeight","I","Gamma","Alpha"]},"lhs":"I","rhs":[{"index":[{"value":[":",1,["length","I"]],"is_range":true,"index":"i"}],"value":["-",["-",["*",["[","S","i"],["odin_sum","infectiousWeight","i","i",1,["dim","infectiousWeight",2]]],["*",["[","I","i"],"Gamma"]],["*",["[","I","i"],"Alpha"]]}]},{"name":"deriv_R","type":"expression_array","source":[5],"depends":{"functions":["length","*","["],"variables":["dim_R","I","i","Gamma"]},"lhs":"R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["*",["[","I","i"],"Gamma"]}]},{"name":"deriv_S","type":"expression_array","source":[3],"depends":{"functions":["length","*","-","[","odin_sum","dim"],"variables":["dim_S","S","i","infectiousWeight","dim_infectiousWeight"]},"lhs":"S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["*",["-",["[","S","i"]],["odin_sum","infectiousWeight","i","i",1,["dim","infectiousWeight",2]]]}]},{"name":"dim_Beta","type":"expression_scalar","source":[40],"depends":{"functions":[],"variables":["dim_Beta_1","dim_Beta_2"]},"lhs":"dim_Beta","rhs":{"value":["*","dim_Beta_1","dim_Beta_2"]}},{"name":"dim_Beta_1","type":"expression_scalar","source":[40],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_Beta_1","rhs":{"value":["length","S0"]}},{"name":"dim_Beta_2","type":"expression_scalar","source":[40],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_Beta_2","rhs":{"value":["length","S0"]}},{"name":"dim_Betas_12","type":"expression_scalar","source":[28],"depends":{"functions":[],"variables":["dim_Betas_1","dim_Betas_2"]},"lhs":"dim_Betas_12","rhs":{"value":["*","dim_Betas_1","dim_Betas_2"]}},{"name":"dim_D","type":"expression_scalar","source":[37],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_D","rhs":{"value":["length","S0"]}},{"name":"dim_D0","type":"expression_scalar","source":[33],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_D0","rhs":{"value":["length","S0"]}},{"name":"dim_I","type":"expression_scalar","source":[35],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_I","rhs":{"value":["length","S0"]}},{"name":"dim_I0","type":"expression_scalar","source":[31],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_I0","rhs":{"value":["length","S0"]}},{"name":"dim_infectiousWeight","type":"expression_scalar","source":[39],"depends":{"functions":[],"variables":["dim_infectiousWeight_1","dim_infectiousWeight_2"]},"lhs":"dim_infectiousWeight","rhs":{"value":["*","dim_infectiousWeight_1","dim_infectiousWeight_2"]}},{"name":"dim_infectiousWeight_1","type":"expression_scalar","source":[39],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_infectiousWeight_1","rhs":{"value":["length","S0"]}},{"name":"dim_infectiousWeight_2","type":"expression_scalar","source":[39],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_infectiousWeight_2","rhs":{"value":["length","S0"]}},{"name":"dim_N","type":"expression_scalar","source":[38],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_N","rhs":{"value":["length","S0"]}},{"name":"dim_R","type":"expression_scalar","source":[36],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_R","rhs":{"value":["length","S0"]}},{"name":"dim_R0","type":"expression_scalar","source":[32],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_R0","rhs":{"value":["length","S0"]}},{"name":"dim_S","type":"expression_scalar","source":[34],"depends":{"functions":["length"],"variables":["dim_S0"]},"lhs":"dim_S","rhs":{"value":["length","S0"]}},{"name":"Gamma","type":"user","source":[25],"depends":null,"lhs":"Gamma","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"I0","type":"user","source":[20],"depends":{"functions":["length"],"variables":["dim_I0"]},"lhs":"I0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"infectiousWeight","type":"expression_array","source":[9],"depends":{"functions":["dim","/","*","["],"variables":["dim_infectiousWeight","Beta","i","j","I","N","alloc_infectiousWeight"]},"lhs":"infectiousWeight","rhs":[{"index":[{"value":[":",1,["dim","infectiousWeight",1]],"is_range":true,"index":"i"},{"value":[":",1,["dim","infectiousWeight",2]],"is_range":true,"index":"j"}],"value":["/",["*",["[","Beta","i","j"],["[","I","j"]],["[","N","j"]]}]},{"name":"initial_D","type":"expression_array","source":[17],"depends":{"functions":["length","["],"variables":["dim_D","D0","i"]},"lhs":"initial_D","rhs":[{"index":[{"value":[":",1,["length","D"]],"is_range":true,"index":"i"}],"value":["[","D0","i"]}]},{"name":"initial_I","type":"expression_array","source":[15],"depends":{"functions":["length","["],"variables":["dim_I","I0","i"]},"lhs":"initial_I","rhs":[{"index":[{"value":[":",1,["length","I"]],"is_range":true,"index":"i"}],"value":["[","I0","i"]}]},{"name":"initial_R","type":"expression_array","source":[16],"depends":{"functions":["length","["],"variables":["dim_R","R0","i"]},"lhs":"initial_R","rhs":[{"index":[{"value":[":",1,["length","R"]],"is_range":true,"index":"i"}],"value":["[","R0","i"]}]},{"name":"initial_S","type":"expression_array","source":[14],"depends":{"functions":["length","["],"variables":["dim_S","S0","i"]},"lhs":"initial_S","rhs":[{"index":[{"value":[":",1,["length","S"]],"is_range":true,"index":"i"}],"value":["[","S0","i"]}]},{"name":"interpolate_Beta","type":"alloc_interpolate","source":[11],"depends":{"functions":["dim"],"variables":["dim_Beta","changeTimes","Betas","alloc_Beta"]},"lhs":"interpolate_Beta","interpolate":{"t":"changeTimes","y":"Betas","type":"constant","equation":"Beta"}},{"name":"N","type":"expression_array","source":[8],"depends":{"functions":["length","+","["],"variables":["dim_N","S","i","I","R","D","alloc_N"]},"lhs":"N","rhs":[{"index":[{"value":[":",1,["length","N"]],"is_range":true,"index":"i"}],"value":["+",["+",["+",["[","S","i"],["[","I","i"]],["[","R","i"]],["[","D","i"]]}]},{"name":"offset_variable_D","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_I","dim_R","dim_S"]},"lhs":"offset_variable_D","rhs":{"value":["+",["+","dim_I","dim_R"],"dim_S"]}},{"name":"offset_variable_R","type":"expression_scalar","source":[],"depends":{"functions":["+"],"variables":["dim_I","dim_S"]},"lhs":"offset_variable_R","rhs":{"value":["+","dim_I","dim_S"]}},{"name":"output_Beta","type":"copy","source":[12],"depends":{"functions":[],"variables":["Beta"]},"lhs":"Beta"},{"name":"R0","type":"user","source":[21],"depends":{"functions":["length"],"variables":["dim_R0"]},"lhs":"R0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"S0","type":"user","source":[19],"depends":null,"lhs":"S0","user":{"default":null,"dim":true,"min":null,"max":null}}],"components":{"create":{"variables":[],"equations":[]},"user":{"variables":[],"equations":["Alpha","Betas","changeTimes","Gamma","S0","dim_Beta_1","dim_Beta_2","dim_Betas_12","dim_D","dim_D0","dim_I","dim_I0","dim_infectiousWeight_1","dim_infectiousWeight_2","dim_N","dim_R","dim_R0","dim_S","alloc_initial_D","alloc_initial_I","alloc_initial_R","alloc_initial_S","alloc_N","D0","dim_Beta","dim_infectiousWeight","I0","initial_S","offset_variable_D","offset_variable_R","R0","alloc_Beta","alloc_infectiousWeight","initial_D","initial_I","initial_R","interpolate_Beta"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","I","R","D"],"equations":["deriv_D","deriv_R","N","Beta","infectiousWeight","deriv_I","deriv_S"]},"output":{"variables":[],"equations":["Beta","output_Beta"]}},"user":[{"name":"Alpha","has_default":false},{"name":"Betas","has_default":false},{"name":"changeTimes","has_default":false},{"name":"D0","has_default":false},{"name":"Gamma","has_default":false},{"name":"I0","has_default":false},{"name":"R0","has_default":false},{"name":"S0","has_default":false}],"interpolate":{"min":["changeTimes"],"max":[],"critical":["changeTimes"]},"source":["","#relations","deriv(S[]) <- -S[i]*sum(infectiousWeight[i,])","deriv(I[]) <- S[i]*sum(infectiousWeight[i,]) - I[i]*Gamma - I[i]*Alpha","deriv(R[]) <- I[i]*Gamma","deriv(D[]) <- I[i]*Alpha","#values used in relations","N[] <- S[i] + I[i] + R[i] + D[i]","infectiousWeight[,] <- Beta[i,j]*I[j]/N[j] #frequency dependent transmission","#interpolate the betas","Beta[,] <- interpolate(changeTimes, Betas, \"constant\")","output(Beta) <- Beta","#initial conditions","initial(S[]) <- S0[i]","initial(I[]) <- I0[i]","initial(R[]) <- R0[i]","initial(D[]) <- D0[i]","#parameter values","S0[] <- user()","I0[] <- user()","R0[] <- user()","D0[] <- user()","changeTimes[] <- user()","Betas[,,] <- user()","Gamma <- user()","Alpha <- user()","#dimensions","dim(Betas) <- user()","dim(S0) <- user()","dim(changeTimes) <- user()","dim(I0) <- length(S0)","dim(R0) <- length(S0)","dim(D0) <- length(S0)","dim(S) <- length(S0)","dim(I) <- length(S0)","dim(R) <- length(S0)","dim(D) <- length(S0)","dim(N) <- length(S0)","dim(infectiousWeight) <- c(length(S0),length(S0))","dim(Beta) <- c(length(S0),length(S0))"]}
