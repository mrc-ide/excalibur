{"version":"1.0.8","config":{"base":"sirGenerator","include":[]},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"discrete":false,"has_array":true,"has_output":true,"has_user":true,"has_delay":false,"has_interpolate":true,"has_stochastic":false,"has_include":false,"initial_time_dependent":false},"data":{"elements":[{"name":"Alpha","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"Beta","location":"transient","storage_type":"double","rank":0,"dimnames":null},{"name":"Betas","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_Betas","dim":null,"mult":null}},{"name":"changeTimes","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_changeTimes","dim":null,"mult":null}},{"name":"D","location":"variable","storage_type":"double","rank":0,"dimnames":null},{"name":"D0","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"dim_Betas","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_changeTimes","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"Gamma","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"I","location":"variable","storage_type":"double","rank":0,"dimnames":null},{"name":"I0","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_D","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_I","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_R","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_S","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"interpolate_Beta","location":"internal","storage_type":"interpolate_data","rank":0,"dimnames":null},{"name":"N","location":"transient","storage_type":"double","rank":0,"dimnames":null},{"name":"R","location":"variable","storage_type":"double","rank":0,"dimnames":null},{"name":"R0","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"S","location":"variable","storage_type":"double","rank":0,"dimnames":null},{"name":"S0","location":"internal","storage_type":"double","rank":0,"dimnames":null}],"variable":{"length":4,"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"I","offset":1,"initial":"initial_I"},{"name":"R","offset":2,"initial":"initial_R"},{"name":"D","offset":3,"initial":"initial_D"}]},"output":{"length":1,"contents":[{"name":"Beta","offset":0}]}},"equations":[{"name":"Alpha","type":"user","source":[23],"depends":null,"lhs":"Alpha","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"Beta","type":"interpolate","source":[7],"depends":{"functions":[],"variables":["t","interpolate_Beta"]},"lhs":"Beta","interpolate":"interpolate_Beta"},{"name":"Betas","type":"user","source":[20],"depends":null,"lhs":"Betas","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"changeTimes","type":"user","source":[21],"depends":{"functions":["length"],"variables":["dim_changeTimes"]},"lhs":"changeTimes","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"D0","type":"user","source":[19],"depends":null,"lhs":"D0","user":{"default":0,"dim":false,"min":null,"max":null}},{"name":"deriv_D","type":"expression_scalar","source":[6],"depends":{"functions":["*"],"variables":["I","Alpha"]},"lhs":"D","rhs":{"value":["*","I","Alpha"]}},{"name":"deriv_I","type":"expression_scalar","source":[4],"depends":{"functions":["-","/","*"],"variables":["Beta","S","I","N","Gamma","Alpha"]},"lhs":"I","rhs":{"value":["-",["-",["/",["*",["*","Beta","S"],"I"],"N"],["*","I","Gamma"]],["*","I","Alpha"]]}},{"name":"deriv_R","type":"expression_scalar","source":[5],"depends":{"functions":["*"],"variables":["I","Gamma"]},"lhs":"R","rhs":{"value":["*","I","Gamma"]}},{"name":"deriv_S","type":"expression_scalar","source":[3],"depends":{"functions":["/","*","-"],"variables":["Beta","S","I","N"]},"lhs":"S","rhs":{"value":["/",["*",["*",["-","Beta"],"S"],"I"],"N"]}},{"name":"dim_changeTimes","type":"expression_scalar","source":[26],"depends":{"functions":["length"],"variables":["dim_Betas"]},"lhs":"dim_changeTimes","rhs":{"value":["length","Betas"]}},{"name":"Gamma","type":"user","source":[22],"depends":null,"lhs":"Gamma","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"I0","type":"user","source":[17],"depends":null,"lhs":"I0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"initial_D","type":"expression_scalar","source":[14],"depends":{"functions":[],"variables":["D0"]},"lhs":"initial_D","rhs":{"value":"D0"}},{"name":"initial_I","type":"expression_scalar","source":[12],"depends":{"functions":[],"variables":["I0"]},"lhs":"initial_I","rhs":{"value":"I0"}},{"name":"initial_R","type":"expression_scalar","source":[13],"depends":{"functions":[],"variables":["R0"]},"lhs":"initial_R","rhs":{"value":"R0"}},{"name":"initial_S","type":"expression_scalar","source":[11],"depends":{"functions":[],"variables":["S0"]},"lhs":"initial_S","rhs":{"value":"S0"}},{"name":"interpolate_Beta","type":"alloc_interpolate","source":[7],"depends":{"functions":[],"variables":["changeTimes","Betas"]},"lhs":"interpolate_Beta","interpolate":{"t":"changeTimes","y":"Betas","type":"constant","equation":"Beta"}},{"name":"N","type":"expression_scalar","source":[9],"depends":{"functions":["+"],"variables":["S","I","R","D"]},"lhs":"N","rhs":{"value":["+",["+",["+","S","I"],"R"],"D"]}},{"name":"output_Beta","type":"copy","source":[8],"depends":{"functions":[],"variables":["Beta"]},"lhs":"Beta"},{"name":"R0","type":"user","source":[18],"depends":null,"lhs":"R0","user":{"default":0,"dim":false,"min":null,"max":null}},{"name":"S0","type":"user","source":[16],"depends":null,"lhs":"S0","user":{"default":null,"dim":false,"min":null,"max":null}}],"components":{"create":{"variables":[],"equations":[]},"user":{"variables":[],"equations":["Alpha","Betas","D0","Gamma","I0","R0","S0","initial_D","initial_I","initial_R","initial_S","dim_changeTimes","changeTimes","interpolate_Beta"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","I","R","D"],"equations":["deriv_D","deriv_R","N","Beta","deriv_I","deriv_S"]},"output":{"variables":[],"equations":["Beta","output_Beta"]}},"user":[{"name":"Alpha","has_default":false},{"name":"Betas","has_default":false},{"name":"changeTimes","has_default":false},{"name":"Gamma","has_default":false},{"name":"I0","has_default":false},{"name":"S0","has_default":false},{"name":"D0","has_default":true},{"name":"R0","has_default":true}],"interpolate":{"min":["changeTimes"],"max":[],"critical":["changeTimes"]},"source":["","#relations","deriv(S) <- -Beta*S*I/N #frequency dependent transmission","deriv(I) <- Beta*S*I/N - I*Gamma - I*Alpha","deriv(R) <- I*Gamma","deriv(D) <- I*Alpha","Beta <- interpolate(changeTimes, Betas, \"constant\")","output(Beta) <- Beta","N <- S + I + R + D","#initial conditions","initial(S) <- S0","initial(I) <- I0","initial(R) <- R0","initial(D) <- D0","#parameter values","S0 <- user()","I0 <- user()","R0 <- user(0)","D0 <- user(0)","Betas[] <- user()","changeTimes[] <- user()","Gamma <- user()","Alpha <- user() #calculate rate of death from probability of death 0.1","#dimensions","dim(Betas) <- user()","dim(changeTimes) <- length(Betas)"]}
