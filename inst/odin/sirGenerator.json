{"version":"1.0.8","config":{"base":"sirGenerator","include":[]},"meta":{"internal":"internal","user":"user","state":"state","result":"dstatedt","output":"output","time":"t","initial_time":"initial_t"},"features":{"discrete":false,"has_array":true,"has_output":true,"has_user":true,"has_delay":false,"has_interpolate":true,"has_stochastic":false,"has_include":false,"initial_time_dependent":false},"data":{"elements":[{"name":"alpha","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"beta","location":"transient","storage_type":"double","rank":0,"dimnames":null},{"name":"betas","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_betas","dim":null,"mult":null}},{"name":"ct","location":"internal","storage_type":"double","rank":1,"dimnames":{"length":"dim_ct","dim":null,"mult":null}},{"name":"D","location":"variable","storage_type":"double","rank":0,"dimnames":null},{"name":"D0","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"dim_betas","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"dim_ct","location":"internal","storage_type":"int","rank":0,"dimnames":null},{"name":"gamma","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"I","location":"variable","storage_type":"double","rank":0,"dimnames":null},{"name":"I0","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_D","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_I","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_R","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"initial_S","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"interpolate_beta","location":"internal","storage_type":"interpolate_data","rank":0,"dimnames":null},{"name":"pDeath","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"R","location":"variable","storage_type":"double","rank":0,"dimnames":null},{"name":"R0","location":"internal","storage_type":"double","rank":0,"dimnames":null},{"name":"S","location":"variable","storage_type":"double","rank":0,"dimnames":null},{"name":"S0","location":"internal","storage_type":"double","rank":0,"dimnames":null}],"variable":{"length":4,"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"I","offset":1,"initial":"initial_I"},{"name":"R","offset":2,"initial":"initial_R"},{"name":"D","offset":3,"initial":"initial_D"}]},"output":{"length":1,"contents":[{"name":"beta","offset":0}]}},"equations":[{"name":"alpha","type":"expression_scalar","source":[23],"depends":{"functions":["-","log"],"variables":["pDeath"]},"lhs":"alpha","rhs":{"value":["-",["log",["-",1,"pDeath"]]]}},{"name":"beta","type":"interpolate","source":[7],"depends":{"functions":[],"variables":["t","interpolate_beta"]},"lhs":"beta","interpolate":"interpolate_beta"},{"name":"betas","type":"user","source":[19],"depends":null,"lhs":"betas","user":{"default":null,"dim":true,"min":null,"max":null}},{"name":"ct","type":"user","source":[20],"depends":{"functions":["length"],"variables":["dim_ct"]},"lhs":"ct","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"D0","type":"user","source":[18],"depends":null,"lhs":"D0","user":{"default":0,"dim":false,"min":null,"max":null}},{"name":"deriv_D","type":"expression_scalar","source":[6],"depends":{"functions":["*"],"variables":["I","alpha"]},"lhs":"D","rhs":{"value":["*","I","alpha"]}},{"name":"deriv_I","type":"expression_scalar","source":[4],"depends":{"functions":["-","/","*","(","+"],"variables":["beta","S","I","R","D","gamma","alpha"]},"lhs":"I","rhs":{"value":["-",["-",["/",["*",["*","beta","S"],"I"],["(",["+",["+",["+","S","I"],"R"],"D"]]],["*","I","gamma"]],["*","I","alpha"]]}},{"name":"deriv_R","type":"expression_scalar","source":[5],"depends":{"functions":["*"],"variables":["I","gamma"]},"lhs":"R","rhs":{"value":["*","I","gamma"]}},{"name":"deriv_S","type":"expression_scalar","source":[3],"depends":{"functions":["/","*","-","(","+"],"variables":["beta","S","I","R","D"]},"lhs":"S","rhs":{"value":["/",["*",["*",["-","beta"],"S"],"I"],["(",["+",["+",["+","S","I"],"R"],"D"]]]}},{"name":"dim_ct","type":"expression_scalar","source":[26],"depends":{"functions":["length"],"variables":["dim_betas"]},"lhs":"dim_ct","rhs":{"value":["length","betas"]}},{"name":"gamma","type":"user","source":[21],"depends":null,"lhs":"gamma","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"I0","type":"user","source":[16],"depends":null,"lhs":"I0","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"initial_D","type":"expression_scalar","source":[13],"depends":{"functions":[],"variables":["D0"]},"lhs":"initial_D","rhs":{"value":"D0"}},{"name":"initial_I","type":"expression_scalar","source":[11],"depends":{"functions":[],"variables":["I0"]},"lhs":"initial_I","rhs":{"value":"I0"}},{"name":"initial_R","type":"expression_scalar","source":[12],"depends":{"functions":[],"variables":["R0"]},"lhs":"initial_R","rhs":{"value":"R0"}},{"name":"initial_S","type":"expression_scalar","source":[10],"depends":{"functions":[],"variables":["S0"]},"lhs":"initial_S","rhs":{"value":"S0"}},{"name":"interpolate_beta","type":"alloc_interpolate","source":[7],"depends":{"functions":[],"variables":["ct","betas"]},"lhs":"interpolate_beta","interpolate":{"t":"ct","y":"betas","type":"constant","equation":"beta"}},{"name":"output_beta","type":"copy","source":[8],"depends":{"functions":[],"variables":["beta"]},"lhs":"beta"},{"name":"pDeath","type":"user","source":[22],"depends":null,"lhs":"pDeath","user":{"default":null,"dim":false,"min":null,"max":null}},{"name":"R0","type":"user","source":[17],"depends":null,"lhs":"R0","user":{"default":0,"dim":false,"min":null,"max":null}},{"name":"S0","type":"user","source":[15],"depends":null,"lhs":"S0","user":{"default":null,"dim":false,"min":null,"max":null}}],"components":{"create":{"variables":[],"equations":[]},"user":{"variables":[],"equations":["betas","D0","gamma","I0","pDeath","R0","S0","alpha","initial_D","initial_I","initial_R","initial_S","dim_ct","ct","interpolate_beta"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","I","R","D"],"equations":["deriv_R","deriv_D","beta","deriv_I","deriv_S"]},"output":{"variables":[],"equations":["beta","output_beta"]}},"user":[{"name":"betas","has_default":false},{"name":"ct","has_default":false},{"name":"gamma","has_default":false},{"name":"I0","has_default":false},{"name":"pDeath","has_default":false},{"name":"S0","has_default":false},{"name":"D0","has_default":true},{"name":"R0","has_default":true}],"interpolate":{"min":["ct"],"max":[],"critical":["ct"]},"source":["","#relations","deriv(S) <- -beta*S*I/(S + I + R + D) #frequency dependent transmission","deriv(I) <- beta*S*I/(S + I + R + D) - I*gamma - I*alpha","deriv(R) <- I*gamma","deriv(D) <- I*alpha","beta <- interpolate(ct, betas, \"constant\")","output(beta) <- beta","#initial conditions","initial(S) <- S0","initial(I) <- I0","initial(R) <- R0","initial(D) <- D0","#parameter values","S0 <- user()","I0 <- user()","R0 <- user(0)","D0 <- user(0)","betas[] <- user()","ct[] <- user()","gamma <- user()","pDeath <- user()","alpha <- -log(1-pDeath) #calculate rate of death from probability of death 0.1","#dimensions","dim(betas) <- user()","dim(ct) <- length(betas)"]}
